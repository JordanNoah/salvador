define("local_digitalta/experiences/provider",["exports","core/notification","core/templates","jquery","core/ajax"],(function(_exports,_notification,_templates,_jquery,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_templates=_interopRequireDefault(_templates),_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax);_exports.init=()=>{let experiences={experiences:{data:[]}},selectedPage=1;getExperiences(selectedPage),(0,_jquery.default)(document).on("click","li.page-item.page-link.page",(function(){const clickedPage=(0,_jquery.default)(this).attr("attr-page");selectedPage!==clickedPage&&(selectedPage=clickedPage,getExperiences(selectedPage))})),0===experiences.experiences.data.length?_templates.default.renderForPromise("local_digitalta/_common/empty-view",experiences).then((_ref=>{let{html:html,js:js}=_ref;_templates.default.appendNodeContents("#list-experience-body",html,js)})).catch((error=>(0,_notification.exception)(error))):_templates.default.renderForPromise("local_digitalta/experiences/dashboard/experience-list",experiences).then((_ref2=>{let{html:html,js:js}=_ref2;_templates.default.appendNodeContents("#list-experience-body",html,js)})).catch((error=>(0,_notification.exception)(error)))};const getExperiences=async selectedPage=>{let pagination=[{page:1,selected:!1},{page:2,selected:!1},{page:3,selected:!1}];pagination=pagination.map((item=>({...item,selected:item.page==selectedPage})));const request={methodname:"local_digitalta_experiences_get_by_pagination",args:{pagenumber:selectedPage,filters:JSON.stringify([])}},response=await _ajax.default.call([request])[0];console.log(response),_templates.default.renderForPromise("local_digitalta/_common/pagination",{pages:pagination}).then((_ref3=>{let{html:html,js:js}=_ref3;(0,_jquery.default)("#digital-pagination").empty(),_templates.default.appendNodeContents("#digital-pagination",html,js)})).catch((error=>(0,_notification.exception)(error)))}}));

//# sourceMappingURL=provider.min.js.map