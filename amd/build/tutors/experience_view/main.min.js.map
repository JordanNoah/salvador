{"version":3,"file":"main.min.js","sources":["../../../src/tutors/experience_view/main.js"],"sourcesContent":["import $ from \"jquery\";\r\nimport {SELECTORS} from \"local_digitalta/tutors/experience_view/selectors\";\r\nimport Template from \"core/templates\";\r\nimport Notification from \"core/notification\";\r\nimport {tutoringRequestsGet} from \"local_digitalta/repositories/tutoring_repository\";\r\nimport {get_string} from \"core/str\";\r\nimport {setEventListeners} from \"local_digitalta/tutors/experience_view/listeners\";\r\n\r\nconst renderRequestsButton = async () => {\r\n  const experienceid = $(SELECTORS.INPUT.EXPERIENCE_ID).val();\r\n  const data = await tutoringRequestsGet({\r\n    experienceid: experienceid,\r\n  });\r\n  if (data) {\r\n    get_string(\"tutoring:request\", \"local_digitalta\")\r\n      .then((string) => {\r\n        $(SELECTORS.BUTTON_REQUEST).append(data.total + \" \" + string);\r\n        return true;\r\n      })\r\n      .fail(Notification.exception);\r\n  }\r\n  return true;\r\n};\r\n\r\n/**\r\n * Open tutor requests\r\n * @param {boolean} hideBack\r\n * @returns\r\n */\r\nexport const openTutorsRequests = async(hideBack = false) => {\r\n  const experienceid = $(SELECTORS.INPUT.EXPERIENCE_ID).val() || 0;\r\n  const data = await tutoringRequestsGet({\r\n    experienceid: experienceid,\r\n  });\r\n  data.hideBack = hideBack;\r\n  Template.render(SELECTORS.TEMPLATES.MENTOR_REQUESTS, data)\r\n    .then((html) => {\r\n      $(\"#chat\").html(html);\r\n      return;\r\n    })\r\n    .fail(Notification.exception);\r\n  return;\r\n};\r\n\r\n\r\n\r\n/**\r\n * @module tutors/experience_view/main\r\n */\r\nexport default function init() {\r\n  setEventListeners();\r\n  renderRequestsButton();\r\n}\r\n"],"names":["async","experienceid","SELECTORS","INPUT","EXPERIENCE_ID","val","data","then","string","BUTTON_REQUEST","append","total","fail","Notification","exception","renderRequestsButton","hideBack","render","TEMPLATES","MENTOR_REQUESTS","html"],"mappings":"ikBAQ6BA,iBACrBC,cAAe,mBAAEC,qBAAUC,MAAMC,eAAeC,MAChDC,WAAa,4CAAoB,CACrCL,aAAcA,eAEZK,0BACS,mBAAoB,mBAC5BC,MAAMC,6BACHN,qBAAUO,gBAAgBC,OAAOJ,KAAKK,MAAQ,IAAMH,SAC/C,KAERI,KAAKC,sBAAaC,YAgCvBC,oNAtBgCf,qBAAMgB,uEAChCf,cAAe,mBAAEC,qBAAUC,MAAMC,eAAeC,OAAS,EACzDC,WAAa,4CAAoB,CACrCL,aAAcA,eAEhBK,KAAKU,SAAWA,4BACPC,OAAOf,qBAAUgB,UAAUC,gBAAiBb,MAClDC,MAAMa,2BACH,SAASA,KAAKA,SAGjBR,KAAKC,sBAAaC"}